<div class="place-details-container" *ngIf="place">
  <div class="place-details-content">
    <div class="d-flex justify-content-between align-items-center mb-4">
      <h2 class="mb-0">{{ place.name }}</h2>
      <button class="btn btn-primary" (click)="openAddToListModal()">
        <i class="fas fa-plus me-2"></i>
        Add to List
      </button>
    </div>

    <!-- Galerie d'images -->
    <div class="image-gallery mb</button>-4">
      <div class="main-image-container">
        <img
          [src]="getCurrentImage()"
          alt="{{ place.name }}"
          class="main-image"
        />
        <button class="nav-button prev" (click)="previousImage()">
          <i class="fas fa-chevron-left"></i>
        </button>
        <button class="nav-button next" (click)="nextImage()">
          <i class="fas fa-chevron-right"></i>
        </button>
      </div>
      <div class="thumbnail-container">
        <img
          *ngFor="let image of place.images; let i = index"
          [src]="'http://localhost:5066' + image"
          [class.active]="i === currentImageIndex"
          (click)="currentImageIndex = i"
          alt="Thumbnail {{ i + 1 }}"
          class="thumbnail"
        />
      </div>
    </div>

    <!-- Informations principales -->
    <div class="row mb-4">
      <div class="col-md-8">
        <div class="d-flex align-items-center mb-3">
          <span class="badge bg-primary me-2">{{ place.category }}</span>
          <div class="rating">
            <i class="fas fa-star text-warning"></i>
            <span class="ms-1"
              >{{ place.averageRating }} ({{ place.reviewCount }} avis)</span
            >
          </div>
        </div>
        <p class="description">{{ place.description }}</p>
      </div>
      <div class="col-md-4">
        <div class="info-card">
          <h5>Informations pratiques</h5>
          <div class="info-item">
            <i class="fas fa-map-marker-alt"></i>
            <span>{{ place.address }}, {{ place.city }}</span>
          </div>
          <div class="info-item">
            <i class="fas fa-phone"></i>
            <span>{{ place.phoneNumber || "Non disponible" }}</span>
          </div>
          <span><i class="fas fa-clock"></i> Horraires</span>

          <div class="info-item">
            <pre class="mb-0">{{ getFormattedHours() }}</pre>
          </div>
        </div>
      </div>
    </div>

    <!-- Tags -->
    <div class="tags-section mb-4">
      <h5>Tags</h5>
      <div class="d-flex flex-wrap gap-2">
        <span *ngFor="let tag of place.tags" class="badge bg-light text-dark">
          #{{ tag }}
        </span>
      </div>
    </div>

    <!-- Carte de localisation -->
    <div class="map-section mb-4">
      <h5>Localisation</h5>
      <div class="map-container">
        <!-- Ici, vous pouvez intÃ©grer une carte Google Maps ou OpenStreetMap -->
        <iframe
          width="100%"
          height="300"
          frameborder="0"
          style="border: 0"
          [src]="
            'https://www.google.com/maps/embed/v1/place?key=YOUR_API_KEY&q=' +
            place.latitude +
            ',' +
            place.longitude
          "
          allowfullscreen
        >
        </iframe>
      </div>
    </div>
  </div>
</div>

<app-add-to-lists />
<app-review [placeId]="id"></app-review>

